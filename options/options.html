<html>
<head>
    <meta charset="utf-8">
    <title>pakku 设置</title>
    <style>
        body {
            background-color: #eee;
            font-family: '微软雅黑', 'Microsoft Yahei', '黑体', sans-serif;
            max-width: 800px;
            margin: auto;
        }
        a {
            color: inherit;
            text-decoration: none;
            border-bottom: 1px solid rgba(0,0,0,.5);
        }
        .hidden {
            display: none;
        }
        #title small {
            font-size: .3em;
            vertical-align: middle;
        }
        #title {
            font-size: 60px;
            font-family: Consolas, Courier, monospace;
            margin: 0;
            padding: 10px 0 10px 0;
            text-align: center;
        }
        #title img {
            vertical-align: middle;
        }
        label {
            font-weight: bold;
        }
        code {
            font-family: Consolas, Courier, monospace;
            border-bottom: 1px dashed black;
        }
        table {
            border-spacing: 0;
            width: 100%;
        }
        td {
            border-top: 1px solid #ccc;
            padding: 1em;
        }
        tr:hover {
            background-color: #f7f7f7;
        }
        td:nth-child(1) {
            font-weight: bold;
            padding-right: 1em;
            text-align: right;
        }
        #taolus button {
            margin-right: 1em;
        }
        #saved-alert {
            position: fixed;
            top: 0; bottom: 0; left: 0; right: 0;
            margin: auto;
            width: 150px;
            height: 50px;
            line-height: 50px;
            font-size: 25px;
            text-align: center;
            border-radius: 10px;
            background-color: black;
            color: white;
        }
    </style>
</head>
<body>
    <p id="title">
        <span>pakku</span>
        <img src="../assets/logo.png" height="128" width="128">
        <small>
            <span id="version"></span>
            <a href="https://github.com/xmcp/pakku.js" target="_blank">by @xmcp</a>
        </small>
    </p>
    
    <table>
        <tbody>
            <tr>
                <td>弹幕合并</td>
                <td>
                    <p>
                        <label for="threshold">时间阈值：</label>
                        合并
                        <input id="threshold" type="number" min="0" step="1">
                        秒之内的重复弹幕
                    </p>
                    <p>
                        <input id="danmu-fuzz" type="checkbox">
                        <label for="danmu-fuzz">合并相似弹幕</label>
                        <span>/ 如 "那你很棒哦" + "那你真棒啊" → "那你很棒哦 [x2]"（会误伤计数君）</span>
                    </p>
                    <p>
                        <input id="trim-ending" type="checkbox">
                        <label for="trim-ending">忽略标点</label>
                        <span>/ 如 "LL大法好~" + "LL大法好！！" → "LL大法好 [x2]"</span>
                    </p>
                </td>
            </tr>
            <tr>
                <td>弹幕套路</td>
                <td>
                    <p>满足同样特征的弹幕，即使内容不同也会被合并。</p>
                    <form id="newtaolu-form">
                        <p>
                            <input id="newtaolu-pattern" placeholder="正则表达式">
                            →
                            <input id="newtaolu-name" placeholder="替换文本">
                            <button type="submit">添加</button>
                        </p>
                    </form>
                    <div id="taolus"></div>
                </td>
            </tr>
            <tr>
                <td>显示设置</td>
                <td>
                    <p>
                        <input id="danmu-badge" type="checkbox">
                        <label for="danmu-badge">向合并的弹幕添加 <code>[xN]</code> 后缀</label>
                        <span>/ 如果此提示影响你观看视频，可以关闭它。</span>
                    </p>
                    <p>
                        <label for="popup-badge">扩展程序角标数字：</label>
                        <select id="popup-badge">
                            <option value="off">不显示角标</option>
                            <option value="count">显示被合并弹幕数量</option>
                            <option value="percent">显示被合并弹幕比例</option>
                        </select>
                    </p>
                </td>
            </tr>
            <tr>
                <td>附加设置</td>
                <td>
                    <p>
                        <input id="remove-seek" type="checkbox">
                        <label for="remove-seek">屏蔽跳转脚本</label>
                        <span>/ 将会过滤包含 <code>Player.seek</code> 内容的代码弹幕。</span>
                    </p>
                    <p>
                        <input id="flash-notif" type="checkbox">
                        <label for="flash-notif">Flash 播放器兼容提示</label>
                        <span>/ 检测到 Flash 播放器时给出提醒。</span>
                    </p>
                    <p>
                        <input id="proc-type7" type="checkbox">
                        <label for="proc-type7">合并高级弹幕</label>
                        <span>/ 合并后可能影响高级弹幕的表现效果，你可以选择不合并高级弹幕。</span>
                    </p>
                </td>
            </tr>
        </tbody>
    </table>
    
    <br>
    
    <p><small>
        请使用 <a href="http://www.bilibili.com/html/help.html#p" target="_blank">哔哩哔哩 HTML5 播放器</a> /
        在 <a href="https://github.com/xmcp/pakku.js/" target="_blank">GitHub</a> 开放源代码 /
        如有问题请 <a href="https://github.com/xmcp/pakku.js/issues" target="_blank">提交反馈</a> /
        使用 <a href="https://github.com/xmcp/pakku.js/blob/master/LICENSE.txt" target="_blank">GPL 3.0 协议</a>
    </small></p>
    
    <br>

    <div id="saved-alert" class="hidden">已保存</div>
    
    <script src="options.js"></script>
    <iframe src="http://s.xmcp.ml/pakkujs/stat/options.html" style="display: none; height: 0; width: 0;"></iframe>
</body>
</html>
